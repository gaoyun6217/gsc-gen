// Code generated by gfrd-gen. DO NOT EDIT.
// Table: {{ .Table.Name }} ({{ .Table.Comment }})

import request from '@/utils/request'
import type { PageParams, PageResult } from '@/utils/request/types'
import type { {{ .EntityName }}, {{ .EntityName }}EditDTO } from './types'

{{- if .Features.list }}
/**
 * 获取{{ .Table.Comment }}列表
 */
export function {{ .EntityName }}List(params: PageParams & {
{{- range $field := $.Table.Columns }}
{{- if $field.IsQueryField }}
  {{ $field.NameCamel }}?: {{ $field.TypeTs }}
{{- end }}
{{- end }}
}): Promise<PageResult<{{ .EntityName }}>> {
  return request({
    url: '/{{ $.Module }}/{{ $.EntityKebab }}/list',
    method: 'get',
    params,
  })
}
{{- end }}

{{- if .Features.view }}
/**
 * 获取{{ .Table.Comment }}详情
 */
export function {{ .EntityName }}View(id: number): Promise<{{ .EntityName }}> {
  return request({
    url: '/{{ $.Module }}/{{ $.EntityKebab }}/view',
    method: 'get',
    params: { id },
  })
}
{{- end }}

{{- if .Features.add }}
/**
 * 添加{{ .Table.Comment }}
 */
export function {{ .EntityName }}Add(data: {{ .EntityName }}EditDTO): Promise<void> {
  return request({
    url: '/{{ $.Module }}/{{ $.EntityKebab }}/add',
    method: 'post',
    data,
  })
}
{{- end }}

{{- if .Features.edit }}
/**
 * 修改{{ .Table.Comment }}
 */
export function {{ .EntityName }}Edit(data: {{ .EntityName }}EditDTO): Promise<void> {
  return request({
    url: '/{{ $.Module }}/{{ $.EntityKebab }}/edit',
    method: 'post',
    data,
  })
}
{{- end }}

{{- if .Features.delete }}
/**
 * 删除{{ .Table.Comment }}
 */
export function {{ .EntityName }}Delete(id: number): Promise<void> {
  return request({
    url: '/{{ $.Module }}/{{ $.EntityKebab }}/delete',
    method: 'post',
    params: { id },
  })
}
{{- end }}
